<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Open Discourse - Documentation</title>
  <meta name="description" content="This is the official documentation of the Open Discourse project" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Open Discourse - Documentation" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://opendiscourse.de" />
  
  <meta property="og:description" content="This is the official documentation of the Open Discourse project" />
  <meta name="github-repo" content="open-discourse/open-discourse" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Open Discourse - Documentation" />
  
  <meta name="twitter:description" content="This is the official documentation of the Open Discourse project" />
  

<meta name="author" content="Open Discourse Team" />


<meta name="date" content="2021-03-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="speeches-table.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li>Documentation of Open Discourse <br>
Based on database v1.0.0.</li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a><ul>
<li class="chapter" data-level="1.1" data-path="speeches-table.html"><a href="speeches-table.html"><i class="fa fa-check"></i><b>1.1</b> Speeches Table</a><ul>
<li class="chapter" data-level="1.1.1" data-path="speeches-table.html"><a href="speeches-table.html#speeches-summary-table"><i class="fa fa-check"></i><b>1.1.1</b> Speeches summary table</a></li>
<li class="chapter" data-level="1.1.2" data-path="speeches-table.html"><a href="speeches-table.html#additional-remarks"><i class="fa fa-check"></i><b>1.1.2</b> Additional Remarks</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="factions-table.html"><a href="factions-table.html"><i class="fa fa-check"></i><b>1.2</b> Factions Table</a><ul>
<li class="chapter" data-level="1.2.1" data-path="factions-table.html"><a href="factions-table.html#factions-summary-table"><i class="fa fa-check"></i><b>1.2.1</b> Factions summary table</a></li>
<li class="chapter" data-level="1.2.2" data-path="factions-table.html"><a href="factions-table.html#additional-remarks-1"><i class="fa fa-check"></i><b>1.2.2</b> Additional Remarks</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="politicians-table.html"><a href="politicians-table.html"><i class="fa fa-check"></i><b>1.3</b> Politicians Table</a><ul>
<li class="chapter" data-level="1.3.1" data-path="politicians-table.html"><a href="politicians-table.html#politicians-summary-table"><i class="fa fa-check"></i><b>1.3.1</b> Politicians summary table</a></li>
<li class="chapter" data-level="1.3.2" data-path="politicians-table.html"><a href="politicians-table.html#additional-remarks-2"><i class="fa fa-check"></i><b>1.3.2</b> Additional Remarks</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="contribs.html"><a href="contribs.html"><i class="fa fa-check"></i><b>1.4</b> Contributions Tables</a><ul>
<li class="chapter" data-level="1.4.1" data-path="contribs.html"><a href="contribs.html#contributions-simplified"><i class="fa fa-check"></i><b>1.4.1</b> Contributions Simplified</a></li>
<li class="chapter" data-level="1.4.2" data-path="contribs.html"><a href="contribs.html#contributions-extended-experimental"><i class="fa fa-check"></i><b>1.4.2</b> Contributions Extended (experimental)</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="electoral-terms-table.html"><a href="electoral-terms-table.html"><i class="fa fa-check"></i><b>1.5</b> Electoral Terms Table</a><ul>
<li class="chapter" data-level="1.5.1" data-path="electoral-terms-table.html"><a href="electoral-terms-table.html#electoral-terms-summary-table"><i class="fa fa-check"></i><b>1.5.1</b> Electoral Terms summary table</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/open-discourse/open-discourse" target="blank">Check us out on GitHub</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Open Discourse - Documentation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Open Discourse - Documentation</h1>
<p class="author"><em>Open Discourse Team</em></p>
<p class="date"><em>2021-03-21</em></p>
</div>
<div id="prerequisites" class="section level1">
<h1><span class="header-section-number">1</span> Prerequisites</h1>
<p>This is the official documentation space of the <a href="opendiscourse.de">Open Discourse</a> corpus.</p>
<p>Currently you can find detailed documentation about these topics:</p>
<ul>
<li>[Get the Data]</li>
<li>[Data Report of the Database]</li>
</ul>
<table>
<colgroup>
<col width="100%" />
</colgroup>
<tbody>
<tr class="odd">
<td align="left">::: {.infobox .caution} <strong>Citing Open Discourse</strong></td>
</tr>
<tr class="even">
<td align="left">If you want to cite the Open Discourse corpus, please cite the resource by referring to the associated data paper published at the Harvard Dataverse as:</td>
</tr>
<tr class="odd">
<td align="left">&gt; <em>Richter, F.; Koch, P.; Franke, O.; Kraus, J.; Kuruc, F.; Thiem, A.; Högerl, J.; Heine, S.; Schöps, K., 2020, &quot;Open Discourse&quot;, <a href="https://doi.org/10.7910/DVN/FIKIBO" class="uri">https://doi.org/10.7910/DVN/FIKIBO</a>, Harvard Dataverse</em> :::</td>
</tr>
<tr class="even">
<td align="left"><!--chapter:end:index.Rmd--></td>
</tr>
<tr class="odd">
<td align="left"># Get the Data</td>
</tr>
<tr class="even">
<td align="left">There are three ways to retrieve the complete data of the Open Discourse corpus:</td>
</tr>
<tr class="odd">
<td align="left">- [Download a data dump]</td>
</tr>
<tr class="even">
<td align="left">- [Run the database locally]</td>
</tr>
<tr class="odd">
<td align="left">- [Recreate the database locally]</td>
</tr>
<tr class="even">
<td align="left">## Download a data dump</td>
</tr>
<tr class="odd">
<td align="left">The associated <a href="https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/FIKIBO">Harvard Dataverse of Open Discourse</a> hosts full exports of the database in four different formats. You can easily download the data in your preferred data format and use it for your projects.</td>
</tr>
<tr class="even">
<td align="left">The following data formats are available:</td>
</tr>
<tr class="odd">
<td align="left">- CSV/Tab (Universal)</td>
</tr>
<tr class="even">
<td align="left">- Pickle (Python)</td>
</tr>
<tr class="odd">
<td align="left">- RDS (R)</td>
</tr>
<tr class="even">
<td align="left">- Feather (R &amp; Python)</td>
</tr>
<tr class="odd">
<td align="left">The dataverse hosts all database tables in these four formats (see Section <a href="#data-report-of-the-database"><strong>??</strong></a> for a full documentation on the database tables).</td>
</tr>
<tr class="even">
<td align="left">The following widget provides direct access to the data files in the dataverse:</td>
</tr>
<tr class="odd">
<td align="left"><code>{=html} &lt;script src=&quot;https://dataverse.harvard.edu/resources/js/widgets.js?persistentId=doi:10.7910/DVN/FIKIBO&amp;amp;dvUrl=https://dataverse.harvard.edu&amp;amp;widget=iframe&amp;amp;heightPx=500&quot;&gt;&lt;/script&gt;</code> ## Run the database locally</td>
</tr>
<tr class="even">
<td align="left">You can download and run a docker image of the Postgres database. The docker image contains the latest version of the database.</td>
</tr>
<tr class="odd">
<td align="left">### Get and launch the database</td>
</tr>
<tr class="even">
<td align="left"><strong>Three steps are necessary to run the database on your machine:</strong></td>
</tr>
<tr class="odd">
<td align="left">1. <em>Authenticate to GitHub Container Registry</em></td>
</tr>
<tr class="even">
<td align="left"><a href="https://docs.github.com/en/packages/guides/pushing-and-pulling-docker-images#authenticating-to-github-container-registry">Click here</a> for a detailed documentation on how to get and use your personal access token.</td>
</tr>
<tr class="odd">
<td align="left">2. <em>Pull the docker container</em></td>
</tr>
<tr class="even">
<td align="left">After you are authenticated run the following command from your terminal:</td>
</tr>
<tr class="odd">
<td align="left"><code>bash docker pull docker.pkg.github.com/open-discourse/open-discourse/database:latest</code></td>
</tr>
<tr class="even">
<td align="left">3. <em>Run the database</em></td>
</tr>
<tr class="odd">
<td align="left">Finally you just need to start the docker container with the database:</td>
</tr>
<tr class="even">
<td align="left"><code>bash docker run --env POSTGRES_USER=postgres --env POSTGRES_DB=postgres --env POSTGRES_PASSWORD=postgres  -p 5432:5432 -d docker.pkg.github.com/open-discourse/open-discourse/database</code></td>
</tr>
<tr class="odd">
<td align="left">You need to pass on some environment variables, to login to the database locally:</td>
</tr>
<tr class="even">
<td align="left">| variable | value | |-------------------------|----------| | --env POSTGRES_USER | postgres | | --env POSTGRES_DB | postgres | | --env POSTGRES_PASSWORD | postgres |</td>
</tr>
<tr class="odd">
<td align="left">### Use the database</td>
</tr>
<tr class="even">
<td align="left">After these steps are done, the database is running locally on port <code>5432</code>. You can access the database by using a database tool (e.g. <a href="https://dbeaver.io/">DBeaver</a>) or by using your preferred programming language.</td>
</tr>
<tr class="odd">
<td align="left">Use following credentials to log in to your database:</td>
</tr>
<tr class="even">
<td align="left">| variable | value | |-------------|-----------| | db_name | next | | host_db | localhost | | db_port | 5432 | | db_user | postgres | | db_password | postgres |</td>
</tr>
<tr class="odd">
<td align="left">### Code examples</td>
</tr>
<tr class="even">
<td align="left"><details> <summary>R Code</summary></td>
</tr>
<tr class="odd">
<td align="left">```r library(&quot;RPostgreSQL&quot;)</td>
</tr>
<tr class="even">
<td align="left"># db_connection ----------------------------------------------------------- db &lt;- &quot;next&quot; host_db &lt;- &quot;localhost&quot; db_port &lt;- &quot;5432&quot; db_user &lt;- &quot;postgres&quot; db_password &lt;- &quot;postgres&quot; con &lt;- dbConnect( RPostgres::Postgres(), dbname = db, host = host_db, port = db_port, user = db_user, password = db_password )</td>
</tr>
<tr class="odd">
<td align="left"># get data tables --------------------------------------------------------- speeches &lt;- dbGetQuery(con, &quot;SELECT * FROM open_discourse.speeches;&quot;) ``` </details></td>
</tr>
<tr class="even">
<td align="left"><details> <summary>Python Code</summary></td>
</tr>
<tr class="odd">
<td align="left">```python import psycopg2 import pandas as pd</td>
</tr>
<tr class="even">
<td align="left">con_details = { &quot;host&quot; : &quot;localhost&quot;, &quot;database&quot; : &quot;next&quot;, &quot;user&quot; : &quot;postgres&quot;, &quot;password&quot; : &quot;postgres&quot;, &quot;port&quot; : &quot;5432&quot; } con = psycopg2.connect(**con_details) speeches = pd.read_sql_query(&quot;select * from open_discours.speeches&quot;, con) ``` </details></td>
</tr>
<tr class="odd">
<td align="left">## Recreate the database locally</td>
</tr>
<tr class="even">
<td align="left">Also, you can checkout our GitHub repository and recreate the database from scratch on your local machine or any other instance you want to run the database on. This procedure is the most time consuming way to access the data. The recreation of the database from scratch includes downloading all raw plenary protocols from the website fo the German Bundestag, the full processing procedure of these files and the creation of the postgres database.</td>
</tr>
<tr class="odd">
<td align="left">Please find a documentation on how our repository is structured and how to run it locally in the <a href="https://github.com/open-discourse/open-discourse">README files in our repository</a>.</td>
</tr>
<tr class="even">
<td align="left"><!--chapter:end:01-how-to-download.Rmd--></td>
</tr>
<tr class="odd">
<td align="left"># Data Report of the Database</td>
</tr>
<tr class="even">
<td align="left">This data report serves the purpose of documenting the variables and their linkages of the Open Discourse corpus. This report is supplementary to a soon to be published data paper.</td>
</tr>
<tr class="odd">
<td align="left">The Open Discourse Corpus consists of five main tables. This report provides information about the contents of these tables and the meaning of the respective variables. A detailed documentation about the procedures used to provide this corpus can be found in aforementioned data paper soon.</td>
</tr>
<tr class="even">
<td align="left">Furthermore the codebase developed and used to create the corpus can be retrieved from <a href="https://github.com/open-discourse/open-discourse">GitHub</a>. This open source codebase can be used to recreate the database from scratch and to contribute to the repository to further improve the quality of the data.</td>
</tr>
<tr class="odd">
<td align="left">A current data dump can be found at the associated <a href="https://dataverse.harvard.edu/dataverse/opendiscourse">Dataverse</a>. Also, a full text search engine for researching the corpus can be found on the <a href="www.opendiscourse.de">Open Discourse Website</a> (currently only available in German).</td>
</tr>
<tr class="even">
<td align="left">## Database Schema</td>
</tr>
<tr class="odd">
<td align="left"><img src=".temp/db_schema.png" /></td>
</tr>
<tr class="even">
<td align="left">::: {.infobox .caution} <strong>NOTICE!</strong></td>
</tr>
<tr class="odd">
<td align="left">The <code>text_position</code> variables in <code>contributions_extended</code> and <code>contributions_simplified</code> are positional identifiers. These identifiers link the contribution to their exact location inside the <code>speechContent</code> variable. Hence the <code>text_position</code> variable can be used to reassemble the original speech with all interjections that happened during the speech. :::</td>
</tr>
</tbody>
</table>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="speeches-table.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": false,
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"info": false
});
});
</script>

</body>

</html>
